{"remainingRequest":"/home/alya/project/Pathfinding/node_modules/babel-loader/lib/index.js!/home/alya/project/Pathfinding/node_modules/eslint-loader/index.js??ref--12-0!/home/alya/project/Pathfinding/src/algorithms/astar.js","dependencies":[{"path":"/home/alya/project/Pathfinding/src/algorithms/astar.js","mtime":1676880512069},{"path":"/home/alya/project/Pathfinding/node_modules/cache-loader/dist/cjs.js","mtime":1676881085187},{"path":"/home/alya/project/Pathfinding/node_modules/babel-loader/lib/index.js","mtime":1676881153360},{"path":"/home/alya/project/Pathfinding/node_modules/eslint-loader/index.js","mtime":1676881105757}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGZ1bmN0aW9uIGFzdGFyKGdyaWQsIHN0YXJ0Tm9kZSwgZmluaXNoTm9kZSwgc2l6ZSwgaGV1cmlzdGljKSB7CiAgY29uc3QgY2xvc2VkbGlzdCA9IFtdOwogIGNvbnN0IG9wZW5saXN0ID0gW107CiAgc3RhcnROb2RlLmNvc3QgPSB7CiAgICBGOiAwLAogICAgRzogMCwKICAgIEg6IDAKICB9OwogIG9wZW5saXN0LnB1c2goc3RhcnROb2RlKTsKICB3aGlsZSAoISFvcGVubGlzdC5sZW5ndGgpIHsKICAgIG9wZW5saXN0LnNvcnQoKGEsIGIpID0+IGEuY29zdC5GIC0gYi5jb3N0LkYpOwogICAgY29uc3QgY3VycmVudCA9IG9wZW5saXN0LnNoaWZ0KCk7CiAgICBjbG9zZWRsaXN0LnB1c2goY3VycmVudCk7CiAgICBpZiAoY3VycmVudC5wb2ludDIgPT09IGZpbmlzaE5vZGUpIHJldHVybiBbY2xvc2VkbGlzdCwgY2FsY3VsYXRlUGF0aChjdXJyZW50KV07CiAgICBjb25zdCBuZWlnaGJvcnMgPSBnZXRBbGxOZWlnaGJvcnMoZ3JpZCwgY3VycmVudCwgc2l6ZSk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBuTm9kZSA9IG5laWdoYm9yc1tpXTsKICAgICAgY29uc3QgaE5vZGUgPSBoZXVyaXN0aWMuZmluZChoID0+IGgubm9kZSA9PT0gbk5vZGUucG9pbnQyKTsKICAgICAgbk5vZGUuaXNWaXNpdGVkID0gdHJ1ZTsKICAgICAgaWYgKGNsb3NlZGxpc3QuaW5jbHVkZXMobk5vZGUpKSBjb250aW51ZTsKCiAgICAgIC8vQ2FsY3VsYXRlIENvc3QgSCBjb21wdXRlcyB0aGUgaGV1cmlzdGljcyBvZiB0aGUgbm9kZSAgKGRpc3RhbmNlIGJldHdlZW4gbm9kZSBhbmQgZGlzdGFuY2UpCiAgICAgIG5Ob2RlLmNvc3QuSCA9IGhOb2RlLmh2YWw7CiAgICAgIC8vQWRkaXRpb24gb2YgdGhlIG5vZGUgaGV1cmlzdGljcyBhbmQgZGlzdGFuY2UgY29zdAogICAgICBuTm9kZS5jb3N0LkYgPSBuTm9kZS5jb3N0LkcgKyBuTm9kZS5jb3N0Lkg7CiAgICAgIGlmICghb3Blbmxpc3QuaW5jbHVkZXMobk5vZGUpKSB7CiAgICAgICAgbk5vZGUucHJldmlvdXNOb2RlID0gY3VycmVudDsKICAgICAgICBvcGVubGlzdC5wdXNoKG5Ob2RlKTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gW2Nsb3NlZGxpc3QsIGNhbGN1bGF0ZVBhdGgoZmluaXNoTm9kZSldOwp9CmZ1bmN0aW9uIGdldEFsbE5laWdoYm9ycyhncmlkLCBub2RlLCBzaXplKSB7CiAgY29uc3QgbmVpZ2hib3JzID0gW107CiAgY29uc3QgcG9pbnQyID0gbm9kZS5wb2ludDI7CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgIHZhciB0ZW1wTm9kZSA9IGdyaWRbcG9pbnQyXVtpXTsKICAgIGlmICghdGVtcE5vZGUuaXNWaXNpdGVkICYmIHRlbXBOb2RlLmRpc3RhbmNlID4gMCkgewogICAgICBncmlkW2ldW3BvaW50Ml0uaXNWaXNpdGVkID0gdHJ1ZTsKICAgICAgZ3JpZFtpXVtwb2ludDJdLmNvc3QuRyArPSBub2RlLmNvc3QuRzsKICAgICAgZ3JpZFtwb2ludDJdW2ldLmNvc3QuRyArPSBub2RlLmNvc3QuRzsKICAgICAgbmVpZ2hib3JzLnB1c2godGVtcE5vZGUpOwogICAgfQogIH0KICByZXR1cm4gbmVpZ2hib3JzOwp9CmZ1bmN0aW9uIGNhbGN1bGF0ZVBhdGgoZmluaXNoTm9kZSkgewogIGNvbnN0IHNob3J0ZXN0UGF0aE5vZGVzID0gW107CiAgbGV0IGN1cnJlbnROb2RlID0gZmluaXNoTm9kZTsKICB3aGlsZSAoY3VycmVudE5vZGUgIT09IG51bGwpIHsKICAgIHNob3J0ZXN0UGF0aE5vZGVzLnVuc2hpZnQoY3VycmVudE5vZGUpOwogICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wcmV2aW91c05vZGU7CiAgfQogIHJldHVybiBzaG9ydGVzdFBhdGhOb2RlczsKfQ=="},{"version":3,"names":["astar","grid","startNode","finishNode","size","heuristic","closedlist","openlist","cost","F","G","H","push","length","sort","a","b","current","shift","point2","calculatePath","neighbors","getAllNeighbors","i","nNode","hNode","find","h","node","isVisited","includes","hval","previousNode","tempNode","distance","shortestPathNodes","currentNode","unshift"],"sources":["/home/alya/project/Pathfinding/src/algorithms/astar.js"],"sourcesContent":["export function astar(grid, startNode, finishNode, size, heuristic) {\r\n  const closedlist = [];\r\n  const openlist = [];\r\n\r\n  startNode.cost = {\r\n    F: 0,\r\n    G: 0,\r\n    H: 0\r\n  };\r\n\r\n  openlist.push(startNode);\r\n\r\n  while (!!openlist.length) {\r\n    openlist.sort((a, b) => a.cost.F - b.cost.F);\r\n    const current = openlist.shift();\r\n\r\n    closedlist.push(current);\r\n\r\n    if (current.point2 === finishNode)\r\n      return [closedlist, calculatePath(current)];\r\n\r\n    const neighbors = getAllNeighbors(grid, current, size);\r\n\r\n    for (let i = 0; i < neighbors.length; i++) {\r\n      const nNode = neighbors[i];\r\n      const hNode = heuristic.find((h) => h.node === nNode.point2);\r\n      nNode.isVisited = true;\r\n      if (closedlist.includes(nNode)) continue;\r\n\r\n      //Calculate Cost H computes the heuristics of the node  (distance between node and distance)\r\n      nNode.cost.H = hNode.hval;\r\n      //Addition of the node heuristics and distance cost\r\n      nNode.cost.F = nNode.cost.G + nNode.cost.H;\r\n\r\n      if (!openlist.includes(nNode)) {\r\n        nNode.previousNode = current;\r\n        openlist.push(nNode);\r\n      }\r\n    }\r\n  }\r\n  return [closedlist, calculatePath(finishNode)];\r\n}\r\n\r\nfunction getAllNeighbors(grid, node, size) {\r\n  const neighbors = [];\r\n  const point2 = node.point2;\r\n\r\n  for (let i = 0; i < size; i++) {\r\n    var tempNode = grid[point2][i];\r\n    if (!tempNode.isVisited && tempNode.distance > 0) {\r\n      grid[i][point2].isVisited = true;\r\n      grid[i][point2].cost.G += node.cost.G;\r\n      grid[point2][i].cost.G += node.cost.G;\r\n      neighbors.push(tempNode);\r\n    }\r\n  }\r\n  return neighbors;\r\n}\r\n\r\nfunction calculatePath(finishNode) {\r\n  const shortestPathNodes = [];\r\n  let currentNode = finishNode;\r\n  while (currentNode !== null) {\r\n    shortestPathNodes.unshift(currentNode);\r\n    currentNode = currentNode.previousNode;\r\n  }\r\n  return shortestPathNodes;\r\n}\r\n"],"mappings":"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"}]}